<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Тренажёр по PDF — соответствие и последовательности</title>
<style>
  :root { --bd:#ddd; --muted:#666; }
  body { font-family: Arial, sans-serif; margin: 22px; }
  h1 { margin: 0 0 10px; }
  .wrap { max-width: 980px; }
  .card { border:1px solid var(--bd); border-radius:12px; padding:16px; }
  .top { display:flex; gap:12px; align-items:flex-start; justify-content:space-between; flex-wrap:wrap; }
  .muted { color:var(--muted); font-size:14px; }
  .row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
  select, input[type="text"] { padding:7px 9px; border:1px solid #ccc; border-radius:8px; }
  button { padding:9px 12px; border:1px solid #ccc; border-radius:10px; background:#f7f7f7; cursor:pointer; }
  button:hover { background:#f0f0f0; }
  .qtext { margin: 12px 0 14px; white-space: pre-wrap; }
  table { width:100%; border-collapse: collapse; }
  th, td { border-bottom:1px solid #eee; padding:10px 8px; vertical-align:top; }
  th { text-align:left; font-weight:700; background:#fafafa; }
  .letter { width:70px; font-weight:800; }
  .ok { color:#0a7a0a; font-weight:800; }
  .bad { color:#b00020; font-weight:800; }
  .pill { font-size:12px; padding:3px 9px; border:1px solid var(--bd); border-radius:999px; background:#fafafa; }
  .correct { outline: 2px solid rgba(10,122,10,.25); }
  .wrong { outline: 2px solid rgba(176,0,32,.20); }
  .hr { height:1px; background:#eee; margin:12px 0; }
  .small { font-size:13px; }
</style>
</head>
<body>
<div class="wrap">
  <h1>Задания (из твоего PDF)</h1>
  <div class="muted small">Работает офлайн: открой этот файл в браузере.</div>

  <div class="hr"></div>

  <div class="card">
    <div class="top">
      <div>
        <div id="title" style="font-size:18px;font-weight:800;"></div>
        <div id="meta" class="muted"></div>
      </div>

      <div class="row">
        <label class="muted">Перейти:</label>
        <select id="jump"></select>
        <button id="rand">Случайное</button>
        <span id="progress" class="pill"></span>
      </div>
    </div>

    <div id="text" class="qtext"></div>

    <div id="body"></div>

    <div class="row" style="margin-top:14px;">
      <button id="check">Проверить</button>
      <button id="show">Показать ответ</button>
      <button id="prev">← Предыдущее</button>
      <button id="next">Следующее →</button>
      <button id="reset">Сброс</button>
      <span id="result"></span>
    </div>

    <div class="muted small" style="margin-top:10px;">
      Для «соответствия» можно ввести <b>1,3</b> вручную, если вдруг в эталоне встретится несколько цифр.
    </div>
  </div>
</div>

<script>
const TASKS = [{"id": 1, "type": "match", "title": "Задание 1", "text": "Задание. Установите соответствие между изменениями тонуса сосудов и условиями. при которых происходят эти изменения.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "4", "В": "2", "Г": "5", "Д": "6", "Е": "1"}}, {"id": 2, "type": "match", "title": "Задание 2", "text": "Задание. Установите соответствие между видами боли и их характеристиками.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "3", "В": "1", "Г": "6", "Д": "4", "Е": "5"}}, {"id": 3, "type": "match", "title": "Задание 3", "text": "Задание. Установите соответствие между видами обучения и их функциями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "5", "Б": "3", "В": "6", "Г": "1", "Д": "2", "Е": "4"}}, {"id": 4, "type": "match", "title": "Задание 4", "text": "Задание. Установите соответствие между компонентами болевой реакции и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "1", "В": "2", "Г": "5", "Д": "6", "Е": "4"}}, {"id": 5, "type": "match", "title": "Задание 5", "text": "Задание. Установите соответствие между видами торможения и функциями, которые они выполняют.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "1", "В": "5", "Г": "6", "Д": "4", "Е": "3"}}, {"id": 6, "type": "match", "title": "Задание 6", "text": "Задание. Установите соответствие между показателями и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "4", "Б": "5", "В": "6", "Г": "3", "Д": "1", "Е": "2"}}, {"id": 7, "type": "match", "title": "Задание 7", "text": "Задание. Установите соответствие между терминами и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "6", "Б": "5", "В": "2", "Г": "3", "Д": "1", "Е": "4"}}, {"id": 8, "type": "match", "title": "Задание 8", "text": "Задание. Установите соответствие между показателями. К каждой позиции, данной в левом столбце, подберите соответствующую позицию из правого столбца. Альвеолярное мертвое Спавшиеся и плохо перфузируемые", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "1", "Б": "3", "В": "2", "Г": "6", "Д": "4", "Е": "5"}}, {"id": 9, "type": "match", "title": "Задание 9", "text": "Задание. Установите соответствие между различными структурами, чья стимуляция вызывает изменение болевой чувствительности, и активацией определенной антиноцицептивной системы (АНС). К каждой позиции, данной в левом столбце, подберите соответствующую позицию из правого", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "1", "В": "2", "Г": "4", "Д": "6", "Е": "5"}}, {"id": 10, "type": "match", "title": "Задание 10", "text": "Задание. Установите соответствие между рецепторами и их значениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "3", "В": "4", "Г": "5", "Д": "6", "Е": "1"}}, {"id": 11, "type": "match", "title": "Задание 11", "text": "Задание. Установите соответствие между функциями и показателями, отражающими гомеостатические функции почки.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "6", "В": "1", "Г": "5", "Д": "2", "Е": "4"}}, {"id": 12, "type": "match", "title": "Задание 12", "text": "Задание. Установите соответствие между клетками крови и их функциями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "2", "В": "1", "Г": "4", "Д": "6", "Е": "5"}}, {"id": 13, "type": "match", "title": "Задание 13", "text": "Задание. Установите соответствие между гормонами и железами, которые выделяют эти гормоны.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "5", "Б": "6", "В": "1", "Г": "2", "Д": "4", "Е": "3"}}, {"id": 14, "type": "match", "title": "Задание 14", "text": "Задание. Установите соответствие между видами мембранного транспорта и ионно-молекулярными событиями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "4", "В": "1", "Г": "5", "Д": "6", "Е": "2"}}, {"id": 15, "type": "match", "title": "Задание 15", "text": "Задание 2. Установите соответствие между состояниями клапанов сердца и фазами сердечного цикла.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "1", "В": "4", "Г": "5", "Д": "6", "Е": "2"}}, {"id": 16, "type": "match", "title": "Задание 16", "text": "Задание. Установите соответствие между показателями и их значениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "4", "В": "2", "Г": "1", "Д": "5", "Е": "6"}}, {"id": 17, "type": "match", "title": "Задание 17", "text": "Задание. Установите соответствие между свойствами нервного центра и их характеристиками.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "6", "Б": "1", "В": "2", "Г": "3", "Д": "5", "Е": "4"}}, {"id": 18, "type": "match", "title": "Задание 18", "text": "Задание. Установите соответствие между показателями уровней перерезки головного мозга и изменениями дыхания. К каждой позиции, данной в левом столбце, подберите соответствующую позицию из правого столбца. Уровень перерезки Изменения дыхания", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "5", "Б": "4", "В": "3", "Г": "6", "Д": "2", "Е": "1"}}, {"id": 19, "type": "match", "title": "Задание 19", "text": "Задание. Установите соответствие между показателями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "6", "В": "4", "Г": "3", "Д": "5", "Е": "1"}}, {"id": 20, "type": "match", "title": "Задание 20", "text": "Задание. Установите соответствие между показателями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "3", "В": "1", "Г": "4", "Д": "6", "Е": "5"}}, {"id": 21, "type": "match", "title": "Задание 21", "text": "Задание. Установите соответствие между показателями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "5", "Б": "4", "В": "2", "Г": "6", "Д": "1", "Е": "3"}}, {"id": 22, "type": "match", "title": "Задание 22", "text": "Задание. Установите соответствие между показателями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "3", "В": "6", "Г": "4", "Д": "5", "Е": "1"}}, {"id": 23, "type": "match", "title": "Задание 23", "text": "Задание. Установите соответствие между пищеварительными ферментами и их активаторами.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "3", "В": "1", "Г": "5", "Д": "4", "Е": "6"}}, {"id": 24, "type": "match", "title": "Задание 24", "text": "Задание. Установите соответствие между высшими психическими функциями и их классификациями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "5", "Б": "2", "В": "6", "Г": "1", "Д": "4", "Е": "3"}}, {"id": 25, "type": "match", "title": "Задание 25", "text": "Задание. Установите соответствие между видами торможения и выполняемыми функциями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "5", "Б": "2", "В": "1", "Г": "6", "Д": "4", "Е": "3"}}, {"id": 26, "type": "match", "title": "Задание 26", "text": "Задание. Установите соответствие между гормонами и их действием на секрецию и моторику желудка.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "1", "В": "3", "Г": "6", "Д": "5", "Е": "4"}}, {"id": 27, "type": "match", "title": "Задание 27", "text": "Задание. Установите соответствие между видами регуляторных влияний и их действиями на пищеварительную систему.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "1", "Б": "2", "В": "4", "Г": "5", "Д": "3", "Е": "6"}}, {"id": 28, "type": "match", "title": "Задание 28", "text": "Задание. Установите соответствие между показателями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "4", "В": "5", "Г": "6", "Д": "3", "Е": "1"}}, {"id": 29, "type": "match", "title": "Задание 29", "text": "Задание. Установите соответствие между группами крови, резус фактором и комбинациями агглютиногенов/агглютининов и генотипами резус- фактора.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "3", "В": "1", "Г": "4", "Д": "6", "Е": "5"}}, {"id": 30, "type": "match", "title": "Задание 30", "text": "Задание. Установите соответствие между ферментами поджелудочной железы и их функциями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "1", "В": "5", "Г": "3", "Д": "4", "Е": "6"}}, {"id": 31, "type": "match", "title": "Задание 31", "text": "Задание. Установите соответствие между показателями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "3", "В": "6", "Г": "5", "Д": "1", "Е": "4"}}, {"id": 32, "type": "match", "title": "Задание 32", "text": "Задание. Установите соответствие между веществами и их функциями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "6", "В": "2", "Г": "5", "Д": "1", "Е": "4"}}, {"id": 33, "type": "match", "title": "Задание 33", "text": "Задание. Установите соответствие между показателями и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "5", "Б": "4", "В": "6", "Г": "2", "Д": "1", "Е": "3"}}, {"id": 34, "type": "match", "title": "Задание 34", "text": "Задание. Установите соответствие между показателями и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "5", "Б": "4", "В": "6", "Г": "2", "Д": "1,3", "Е": "1,3"}}, {"id": 35, "type": "match", "title": "Задание 35", "text": "Задание. Установите соответствие между показателями и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "1", "В": "3", "Г": "5", "Д": "6", "Е": "4"}}, {"id": 36, "type": "match", "title": "Задание 36", "text": "Задание. Установите соответствие между показателями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "4", "В": "3,5", "Г": "3,5", "Д": "1,6", "Е": "4"}}, {"id": 37, "type": "match", "title": "Задание 37", "text": "Задание. Установите соответствие между характеристиками типа ВНД и ее показателями.", "options": 8, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "1,8", "Б": "1,6", "В": "1,5", "Г": "1,7", "Д": "2,3", "Е": "2,4"}}, {"id": 38, "type": "match", "title": "Задание 38", "text": "Задание. Установите соответствие между показателями и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "6", "Б": "2", "В": "1", "Г": "5", "Д": "4", "Е": "3"}}, {"id": 39, "type": "match", "title": "Задание 39", "text": "Задание. Установите соответствие между функциями носового дыхания и механизмами, влияющими на них.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "2", "В": "1", "Г": "6", "Д": "4", "Е": "5"}}, {"id": 40, "type": "match", "title": "Задание 40", "text": "Задание. Установите соответствие между элементами кишечника и их ролью в пищеварении.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "3", "В": "1", "Г": "4", "Д": "6", "Е": "5"}}, {"id": 41, "type": "match", "title": "Задание 41", "text": "Задание. Определите соответственные признаки и свойства разных форм возбуждения. К каждой позиции, данной в левом столбце, подберите соответствующие позиции из правого столбца: Возбуждение Признаки – характеристики - свойства", "options": 2, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}], "correct": {"А": "1,", "Б": "2,"}}, {"id": 42, "type": "match", "title": "Задание 42", "text": "Задание. Установите соответствие между показателями и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "1", "В": "2", "Г": "6", "Д": "5", "Е": "4"}}, {"id": 43, "type": "match", "title": "Задание 43", "text": "Задание. Установите соответствие между показателями и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3", "Б": "1", "В": "6", "Г": "2", "Д": "4", "Е": "5"}}, {"id": 44, "type": "match", "title": "Задание 44", "text": "Задание. Установите соответствие между показателями и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "3,4", "Б": "6", "В": "5", "Г": "2", "Д": "1", "Е": "3,4"}}, {"id": 45, "type": "match", "title": "Задание 45", "text": "Задание. Установите соответствие между лёгочными объёмами и ёмкостями и их характеристиками.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "2", "Б": "1", "В": "3", "Г": "6", "Д": "4", "Е": "5"}}, {"id": 46, "type": "match", "title": "Задание 46", "text": "Задание. Установите соответствие между показателями и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "5", "Б": "6", "В": "4", "Г": "1", "Д": "2", "Е": "3"}}, {"id": 47, "type": "match", "title": "Задание 47", "text": "Задание. Установите соответствие между показателями и их определениями.", "options": 6, "left": [{"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "В", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "Е", "text": ""}], "correct": {"А": "6", "Б": "4", "В": "2", "Г": "1", "Д": "3", "Е": "5"}}, {"id": 48, "type": "sequence", "title": "Задание 48", "text": "Задание. Установите правильную последовательность электромеханического сопряжения в мышцах", "items": 7, "correct": ["3", "5", "6", "1", "2", "4", "7"]}, {"id": 49, "type": "sequence", "title": "Задание 49", "text": "Задание. Установите правильную последовательность действия антидиуретического гормона (АДГ).", "items": 7, "correct": ["4", "6", "2", "5", "7", "1", "3"]}, {"id": 50, "type": "sequence", "title": "Задание 50", "text": "Задание. Установите правильную последовательность процессов рефлекторного повышения АД.", "items": 6, "correct": ["3", "2", "4", "6", "1", "5"]}, {"id": 51, "type": "sequence", "title": "Задание 51", "text": "Задание. Установите правильную последовательность реакций при внешнем пути гемостаза.", "items": 7, "correct": ["2", "3", "4", "1", "5", "7", "6"]}, {"id": 52, "type": "sequence", "title": "Задание 52", "text": "Задание. Установите правильную последовательность этапов адгезии и агрегации тромбоцитов:", "items": 7, "correct": ["2", "1", "3", "5", "4", "7", "6"]}, {"id": 53, "type": "sequence", "title": "Задание 53", "text": "Задание. Установите правильную последовательность этапов систолы и диастолы желудочков сердца.", "items": 9, "correct": ["8", "3", "7", "4", "2", "6", "9", "1", "5"]}, {"id": 54, "type": "match", "title": "Задание 54", "text": "Задание. Установите правильную последовательность фаз потенциала действия и им сопутствующих мембранных событий.", "options": 5, "left": [{"key": "Б", "text": ""}, {"key": "Г", "text": ""}, {"key": "Д", "text": ""}, {"key": "А", "text": ""}, {"key": "В", "text": ""}, {"key": "Е", "text": ""}], "correct": {"Б": "Цифра", "Г": "из", "Д": "правого", "А": "столбца", "В": "5", "Е": "2"}}, {"id": 55, "type": "sequence", "title": "Задание 55", "text": "Задание. Установите правильную последовательность. Активация ренин-ангиотензин-альдостероновой системы включает этапы:", "items": 7, "correct": ["5", "2", "4", "7", "1", "3", "6"]}, {"id": 56, "type": "sequence", "title": "Задание 56", "text": "Задание. Установите правильную последовательность рефлекторной дуги акта мочеиспускания.", "items": 8, "correct": ["3", "5", "7", "6", "1", "4", "2", "8"]}, {"id": 57, "type": "sequence", "title": "Задание 57", "text": "Задание. Установите правильную последовательность этапов регуляции секреции гормона роста.", "items": 7, "correct": ["2", "1", "4", "3", "5", "7", "6"]}, {"id": 58, "type": "sequence", "title": "Задание 58", "text": "Задание. Установите правильную последовательность этапов фибринолиза.", "items": 9, "correct": ["2", "1", "4", "3", "7", "5", "8", "6", "9"]}, {"id": 59, "type": "sequence", "title": "Задание 59", "text": "Задание. Установите правильную последовательность гуморальной регуляции тонуса сосудов.", "items": 7, "correct": ["6", "5", "3", "1", "4", "2", "7"]}, {"id": 60, "type": "sequence", "title": "Задание 60", "text": "Задание. Установите правильную последовательность поэтапного повышения АД при физической нагрузке.", "items": 7, "correct": ["3", "2", "1", "4", "6", "5", "3"]}, {"id": 61, "type": "sequence", "title": "Задание 61", "text": "Задание. Установите правильную последовательность передачи звуковых колебаний от барабанной перепонки на волосковые клетки Кортиева органа.", "items": 7, "correct": ["4", "1", "2", "5", "6", "7", "3"]}, {"id": 62, "type": "sequence", "title": "Задание 62", "text": "Задание. Установите правильную последовательность процессов, приводящих к возникновению импульсной активности в первично- чувствующих рецепторах.", "items": 6, "correct": ["6", "5", "3", "1", "4", "2"]}, {"id": 63, "type": "sequence", "title": "Задание 63", "text": "Задание. Установите правильную последовательность реакций при рефлекторном процессе согревания вдыхаемого воздуха в носовой полости.", "items": 7, "correct": ["3", "1", "4", "2", "7", "6", "5"]}, {"id": 64, "type": "sequence", "title": "Задание 64", "text": "Задание. Установите правильную последовательность рефлекса Даньини Ашнера.", "items": 6, "correct": ["2", "3", "1", "5", "6", "4"]}, {"id": 65, "type": "sequence", "title": "Задание 65", "text": "Задание. Установите верную последовательность нейронов в проводниковом отделе вестибулярной сенсорной системе.", "items": 6, "correct": ["5", "2", "6", "3", "4", "1"]}, {"id": 66, "type": "sequence", "title": "Задание 66", "text": "Задание. Установите правильную последовательность рефлекса сокращение мышцы.", "items": 6, "correct": ["3", "2", "4", "1", "6", "5"]}, {"id": 67, "type": "sequence", "title": "Задание 67", "text": "Задание. Выберите из перечисленных характеристик свойства химических синапсов.", "items": 6, "correct": ["2", "3", "4", "6", "9", "11"]}, {"id": 68, "type": "sequence", "title": "Задание 68", "text": "Задание. Установите правильную последовательность эвакуации химуса из желудка в 12-ти перстную кишку.", "items": 6, "correct": ["2", "4", "6", "5", "1", "3"]}, {"id": 69, "type": "sequence", "title": "Задание 69", "text": "Задание. Установите правильную последовательность событий при осуществлении рефлекса Геринга-Брейера.", "items": 6, "correct": ["2", "1", "3", "6", "5", "4"]}, {"id": 70, "type": "sequence", "title": "Задание 70", "text": "Задание. Установите правильную последовательность этапов глотания.", "items": 8, "correct": ["2", "1", "3", "4", "5", "8", "7", "6"]}, {"id": 71, "type": "sequence", "title": "Задание 71", "text": "Задание. Установите правильную последовательность фаз сердечного цикла, характеризующих деятельность желудочков.", "items": 7, "correct": ["5", "6", "3", "4", "1", "2", "7"]}, {"id": 72, "type": "sequence", "title": "Задание 72", "text": "Задание. Установите правильную последовательность этапов передачи возбуждения в нервно-мышечном синапсе.", "items": 7, "correct": ["4", "6", "5", "1", "3", "2", "7"]}, {"id": 73, "type": "sequence", "title": "Задание 73", "text": "Задание. Установите правильную последовательность основных этапов безусловного слюноотделительного рефлекса.", "items": 6, "correct": ["2", "3", "1", "5", "6", "4"]}, {"id": 74, "type": "sequence", "title": "Задание 74", "text": "Задание. Установите правильную последовательность событий при вдохе.", "items": 6, "correct": ["2", "1", "3", "4", "6", "5"]}, {"id": 75, "type": "match", "title": "Задание 75", "text": "Задание. Установите правильную последовательность изменения возбудимости в различные фазы одиночного цикла возбуждения.", "options": 5, "left": [{"key": "В", "text": ""}, {"key": "А", "text": ""}, {"key": "Б", "text": ""}, {"key": "Д", "text": ""}, {"key": "Г", "text": ""}, {"key": "Е", "text": ""}], "correct": {"В": "Цифра", "А": "из", "Б": "правого", "Д": "столбца", "Г": "5", "Е": "4"}}, {"id": 76, "type": "unknown", "title": "Задание 76", "text": "Задание. Заполните словами пропуски, обозначенные цифрами.", "note": "В PDF это задание по рисунку/схеме; эталон не извлечён автоматически."}];

let idx = 0;

function normalize(str) {
  const parts = String(str||"").split(",").map(s=>s.trim()).filter(Boolean);
  const uniq = [...new Set(parts)];
  uniq.sort((a,b)=>Number(a)-Number(b));
  return uniq.join(",");
}

function setResult(html) {
  document.getElementById("result").innerHTML = html || "";
}

function clearMarks() {
  document.querySelectorAll("select[data-k], input[data-k], #seqInput").forEach(el=>el.classList.remove("correct","wrong"));
}

function renderJump() {
  const sel = document.getElementById("jump");
  sel.innerHTML = "";
  TASKS.forEach((t,i)=>{
    const o=document.createElement("option");
    o.value=String(i);
    o.textContent = `${t.title} — ${t.type==="match"?"соответствие":t.type==="sequence"?"последовательность":"другое"}`;
    sel.appendChild(o);
  });
  sel.value = String(idx);
}

function render() {
  const t = TASKS[idx];
  document.getElementById("title").textContent = t.title;
  document.getElementById("meta").textContent =
    t.type==="match" ? `Тип: соответствие (варианты 1–${t.options})` :
    t.type==="sequence" ? `Тип: последовательность (длина: ${t.items})` :
    `Тип: другое`;
  document.getElementById("progress").textContent = `Задание ${idx+1} / ${TASKS.length}`;
  document.getElementById("text").textContent = t.text || "";
  setResult("");
  clearMarks();

  const body = document.getElementById("body");
  body.innerHTML = "";

  if (t.type === "match") {
    const table = document.createElement("table");
    table.innerHTML = `
      <thead><tr>
        <th class="letter">Буква</th>
        <th>Ответ</th>
      </tr></thead>
      <tbody></tbody>
    `;
    const tb = table.querySelector("tbody");

    t.left.forEach(item=>{
      const tr=document.createElement("tr");
      const td1=document.createElement("td");
      td1.className="letter";
      td1.textContent=item.key;

      const td2=document.createElement("td");
      const sel=document.createElement("select");
      sel.dataset.k=item.key;
      const empty=document.createElement("option");
      empty.value=""; empty.textContent="— выбери —";
      sel.appendChild(empty);
      for (let n=1;n<=t.options;n++) {
        const op=document.createElement("option");
        op.value=String(n); op.textContent=String(n);
        sel.appendChild(op);
      }
      const inp=document.createElement("input");
      inp.type="text";
      inp.placeholder="или 1,3";
      inp.dataset.k=item.key;
      inp.style.marginLeft="10px";
      inp.style.width="110px";

      td2.appendChild(sel);
      td2.appendChild(inp);

      tr.appendChild(td1);
      tr.appendChild(td2);
      tb.appendChild(tr);
    });
    body.appendChild(table);
  }
  else if (t.type === "sequence") {
    const wrap=document.createElement("div");
    wrap.className="row";
    wrap.style.alignItems="flex-start";

    const input=document.createElement("input");
    input.type="text";
    input.id="seqInput";
    input.placeholder="например: 3 5 6 1 2 4 7";
    input.style.width="420px";

    const note=document.createElement("div");
    note.className="muted small";
    note.textContent = "Введи последовательность через пробелы или запятые.";

    wrap.appendChild(input);
    body.appendChild(wrap);
    body.appendChild(note);
  }
  else {
    const div=document.createElement("div");
    div.className="muted";
    div.textContent = t.note || "Это задание не распознано автоматически (часто такое бывает для схем/рисунков).";
    body.appendChild(div);
  }

  document.getElementById("jump").value = String(idx);
}

function getMatchAnswer(key) {
  const sel = document.querySelector(`select[data-k="${key}"]`);
  const inp = document.querySelector(`input[data-k="${key}"]`);
  const typed = normalize(inp?.value);
  if (typed) return typed;
  return normalize(sel?.value);
}

function setMatchAnswer(key, value) {
  const sel = document.querySelector(`select[data-k="${key}"]`);
  const inp = document.querySelector(`input[data-k="${key}"]`);
  const v = normalize(value);
  if (!sel || !inp) return;
  if (v && !v.includes(",")) {
    sel.value = v;
    inp.value = "";
  } else {
    sel.value = "";
    inp.value = v;
  }
}

function check() {
  const t = TASKS[idx];
  clearMarks();

  if (t.type === "match") {
    let ok=0;
    const total=t.left.length;

    t.left.forEach(item=>{
      const key=item.key;
      const user=getMatchAnswer(key);
      const corr=normalize(t.correct[key]);
      const sel=document.querySelector(`select[data-k="${key}"]`);
      const inp=document.querySelector(`input[data-k="${key}"]`);
      const target = (user.includes(",") ? inp : sel);
      const good = user && user===corr;
      if (good) ok++;
      if (target) target.classList.add(good ? "correct":"wrong");
    });

    if (ok===total) setResult(`<span class="ok">✓ Верно</span>`);
    else setResult(`<span class="bad">✗ Неверно</span> <span class="muted">(${ok}/${total})</span>`);
    return;
  }

  if (t.type === "sequence") {
    const inp=document.getElementById("seqInput");
    const user = (inp?.value||"").trim();
    const userNums = user.split(/[^0-9]+/).filter(Boolean);
    const corr = t.correct || [];
    const good = userNums.length && userNums.join(" ") === corr.join(" ");
    if (good) {
      inp.classList.add("correct");
      setResult(`<span class="ok">✓ Верно</span>`);
    } else {
      inp.classList.add("wrong");
      setResult(`<span class="bad">✗ Неверно</span> <span class="muted">(ожидалось: ${corr.join(" ")})</span>`);
    }
    return;
  }

  setResult(`<span class="muted">Нечего проверять для этого типа задания.</span>`);
}

function showAnswer() {
  const t = TASKS[idx];
  clearMarks();

  if (t.type==="match") {
    t.left.forEach(item=>setMatchAnswer(item.key, t.correct[item.key]));
    check();
  } else if (t.type==="sequence") {
    const inp=document.getElementById("seqInput");
    if (inp) inp.value = (t.correct||[]).join(" ");
    check();
  } else {
    setResult(`<span class="muted">Для этого задания эталон не извлечён.</span>`);
  }
}

function reset() {
  setResult("");
  clearMarks();
  document.querySelectorAll("select[data-k]").forEach(s=>s.value="");
  document.querySelectorAll("input[data-k]").forEach(i=>i.value="");
  const seq=document.getElementById("seqInput");
  if (seq) seq.value="";
}

document.getElementById("check").addEventListener("click", check);
document.getElementById("show").addEventListener("click", showAnswer);
document.getElementById("reset").addEventListener("click", reset);
document.getElementById("prev").addEventListener("click", ()=>{ idx=(idx-1+TASKS.length)%TASKS.length; render(); });
document.getElementById("next").addEventListener("click", ()=>{ idx=(idx+1)%TASKS.length; render(); });
document.getElementById("rand").addEventListener("click", ()=>{ idx=Math.floor(Math.random()*TASKS.length); render(); });
document.getElementById("jump").addEventListener("change", (e)=>{ idx=Number(e.target.value||0); render(); });

renderJump();
render();
</script>
</body>
</html>
